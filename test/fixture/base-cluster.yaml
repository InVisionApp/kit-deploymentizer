kind: ClusterNamespace
metadata:
  name: base
  branch: master
resources:
  auth:
    branch: develop
    kind: deployment
    file: ./resources/auth/auth-deployment.mustache
    image_tag: node-auth
    svc:
      name: auth-svc
      labels:
        - name: "app"
          value: "invisionapp"
    env:
      - name: test
        value: testbase
  activity:
    kind: deployment
    file: ./resources/activity/activity-deployment.mustache
    image_tag: node-activity
    svc:
      name: activity-svc
      labels:
        - name: "app"
          value: "invisionapp"

  envsecret:
    kind: secret
    file: ./resources/secrets/example-secret.mustache
    env:
      - name: SECRET_USERNAME
        encoding: "base64"
        external: true
      - name: SECRET_PASSWORD
        encoding: "base64"
        external: true
      - name: GITHUB_TOKEN
        external: true
